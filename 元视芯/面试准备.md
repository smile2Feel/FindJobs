### 工作介绍
产品是什么？产品软件结构是什么？我从事的哪个层面的那一部分工作？涉及到哪些知识？
#### 第一份工作
- 什么是高端路由器？
- 控制平面/数据平面是什么？
    - 处理的协议层面不同，控制面主要是节点间路由（BGP, OSPF, IS-IS算法)，数据面则是用户根据报文字段（TCP, UDP，MAC)自定义规则进行报文控制（运行通过，丢弃）
- ACL
    - ACLs (Access Control Lists，接入控制列表)，也称为访问列表（ Access Lists），俗称为防火墙，在有的文档中还称之为包过
滤。通过定义一些规则对网络设备接口上的数据报文进行控制：允许通过、丢弃。根据使用 ACL 目的的不同可分为：安全 ACLs 和 QoS ACLs。
        - 安全 ACLs 用于控制哪些数据流允许从网络设备通过。
        - QoS ACLs 对这些数据流进行优先级分类和处理。
    - 应用场景
        - 不允许研发部门人员在上班时间（即 9:00~18:00）使用 QQ、 MSN 等聊天工具
        - 不允许非财务部门 PC 访问财务部 PC；不允许非研发部门 PC 访问研发部 PC
    - 输入/输出 ACL、过滤域模板及规则
        - 输入 ACL 在设备接口接收到报文时，检查报文是否与该接口输入 ACL 的某一条 ACE 相匹配；输出 ACL 在设备准备从某一个接
口输出报文时，检查报文是否与该接口输出 ACL 的某一条 ACE 相匹配。
        - ACL 的 ACE 根据以太网报文的某些字段来标识以太网报文的，这些字段包括：
            - 源 MAC 地址（二层）
            - 源 IP 地址字段（三层）
            - TCP 的源端口（四层）
- QOS
    - QoS（ Quality of Service，服务质量） 指一个网络能够利用各种基础技术， 为指定的网络通信提供更好的服务能力。支持QoS功能的设备，能够提供传输品质服务；针对某种类别的数据流，可以为它赋予某个级别的传输优先级，来标识它的相对重要性，并使用设备所提供的各种优先级转发策略、拥塞避免等机制为这些数据流提供特殊的传输服务。
    - 应用场景  
        某学校为了满足正常的教学业务需要，要求满足以下四点需求：
        - 限制该学校访问 Internet 的流量为 100M，丢弃超出限制的报文；
        - 限制宿舍楼的出口流量为 50M，同样丢弃超出限制的报文；
        - 限制实验楼发出 DSCP 优先级为 7 的报文的速率为 20M，将速率超过 20M 的此类报文的 DSCP 优先级修改为 16；
        - 限制教学楼的出口流量为 30M，丢弃超出限制的报文。
    - 功能详解
        - 流分类，优先级标记与映射，流量监管，拥塞管理，拥塞避免
        - ToS字段，DSCP字段来进行差分服务，设置映射关系后，可映射到不同的本地服务类型
        - QoS策略：类，流行为，策略

- 项目介绍 WRED（ Weighted Random Early Detection，加权随机早期检测）
    - 拥塞避免通过监控出端口队列的使用情况，在网络拥塞时，采取主动丢弃报文， 调整网络流量的方式来解除网络过载。
    - 几种策略
        - 尾部丢弃
        尾部丢弃可能会引发 TCP 全局同步（ Global Synchronization） ——当队列同时丢弃多个 TCP 报文时，造成多
个 TCP 连接同时进入拥塞避免和慢启动状态，同时降低并调整流量，而后又会在拥塞减少时出现流量高峰，如此反复，使网络
流量忽大忽小，线路流量总在极少和饱满之间波动。
        - WRED
        提供了随机丢弃报文的机制，避免了 TCP 的全局同步现
象。使得某个 TCP 连接的报文被丢弃，开始减速发送的时候，其他的 TCP 连接仍然有较高的发送速度。采用WRED 时，用户可以设定队列的**低门阈值**与**最大丢弃概率**。当队列的长度小于低门阈值时，不丢弃报文；当队列的长度在
低门阈值和高门阈值之间时， WRED 开始随机丢弃报文（队列的长度越长，丢弃的概率越高，有个最大丢弃概率）；当队列的
长度大于高门阈值时， 以最大丢弃概率丢弃报文。
    - 配置
        - 在接口配置模式下，使用 wrr-queue cos-map 命令， 来配置 CoS 到阈值组的映射， CoS 的取值范围为 0~7， 阈值组数由产品
决定。  
    queueing wred 开启 WRED 功能  
    wrr-queue random-detect min-threshold 配置 WRED 丢弃的低门阈值(百分比单位)  
    wrr-queue random-detect probability 配置 WRED 丢弃的最大丢弃概率  
    wrr-queue cos-map 配置 threshold 到 CoS 的映射
    - [相关算法](https://zhuanlan.zhihu.com/p/102382380)

- 和硬件的关联（TCAM）
    - TCAM是数据中心交换机产品上用于存ACL表项的存储器。

晚上看下代码理解下。

#### 第二份工作
